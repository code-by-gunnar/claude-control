---
phase: 06-polish-launch
plan: 02
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - README.md
  - package.json
  - .npmignore
  - LICENSE
autonomous: true

must_haves:
  truths:
    - "npm pack produces a clean tarball with only dist/ and package.json"
    - "README provides clear installation and usage instructions"
    - "Package metadata is complete for npm registry listing"
    - "npx claude-control --help works after npm pack + install"
  artifacts:
    - path: "README.md"
      provides: "User-facing documentation with quickstart"
      min_lines: 100
    - path: ".npmignore"
      provides: "Package file exclusion list"
      min_lines: 5
    - path: "LICENSE"
      provides: "MIT license file"
      contains: "MIT License"
  key_links:
    - from: "package.json"
      to: "dist/index.js"
      via: "bin field"
      pattern: '"claude-ctl".*"./dist/index.js"'
    - from: "README.md"
      to: "npm install -g claude-control"
      via: "installation instructions"
      pattern: "npm install.*claude-control"
---

<objective>
Create comprehensive documentation and prepare the package for npm publishing.

Purpose: Make the project ready for open-source release with clear docs and clean npm package.
Output: README.md, LICENSE, .npmignore, and updated package.json with full publish metadata.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-polish-launch/06-01-SUMMARY.md

@package.json
@src/index.ts
@CLAUDE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create README.md and LICENSE</name>
  <files>README.md, LICENSE</files>
  <action>
    **README.md** — Create comprehensive user documentation. Structure:

    1. **Header**: Project name `claude-control`, one-line description ("CLI + web dashboard for inspecting Claude Code configuration"), CI badge (use GitHub Actions badge URL pattern: `https://github.com/USER/claude-control/actions/workflows/ci.yml/badge.svg` — use placeholder `USER` that can be updated after GitHub repo setup)

    2. **What It Does** (2-3 sentences): Scans Claude Code config files across all scope levels (managed, user, project, local), resolves settings with override chains, shows MCP servers with secret masking, displays hooks/permissions/CLAUDE.md files, provides health scoring, and supports cross-project comparison. Available as CLI or web dashboard.

    3. **Quick Start**:
       ```
       npx claude-control scan
       npx claude-control status
       npx claude-control dashboard
       ```

    4. **Installation**:
       - Global: `npm install -g claude-control`
       - npx (zero install): `npx claude-control`

    5. **CLI Commands** — Table with all subcommands:
       | Command | Description |
       |---------|-------------|
       | `claude-ctl scan` | Discover all config file locations |
       | `claude-ctl status` | Summary of configured vs missing files |
       | `claude-ctl settings` | View settings with scope/origin tracking |
       | `claude-ctl memory` | List CLAUDE.md files, preview content |
       | `claude-ctl mcp` | List MCP servers with secret masking |
       | `claude-ctl hooks` | View hooks and event catalog |
       | `claude-ctl commands` | List custom commands and skills |
       | `claude-ctl permissions` | Merged permissions audit |
       | `claude-ctl health` | Configuration health score |
       | `claude-ctl compare` | Cross-project comparison |
       | `claude-ctl dashboard` | Launch web dashboard |

    6. **Common Flags**: `--json` for machine-readable output, `--help` on any command

    7. **Web Dashboard**: Screenshot-free description of what the dashboard shows (overview, settings, memory, MCP, hooks, permissions, health, projects pages). How to launch: `claude-ctl dashboard` opens browser at `http://localhost:3737`

    8. **Config Scopes**: Brief explanation of the 4 scope levels (managed → user → project → local) and how settings merge (higher scope wins, permissions use deny > ask > allow)

    9. **Requirements**: Node.js 18+

    10. **License**: MIT

    **LICENSE** — Standard MIT license file with year 2026, copyright holder as project owner. Use a standard MIT license template.
  </action>
  <verify>README.md exists with all sections, LICENSE exists with MIT text</verify>
  <done>README.md has quickstart, CLI reference, dashboard info, scope explanation. LICENSE has MIT text.</done>
</task>

<task type="auto">
  <name>Task 2: Prepare package.json for npm publish + .npmignore</name>
  <files>package.json, .npmignore</files>
  <action>
    **package.json** — Add/update these fields (preserve all existing fields):

    - `"files"`: `["dist/", "LICENSE", "README.md"]` — only ship built output + docs
    - `"engines"`: `{"node": ">=18"}` — enforce Node 18+ minimum
    - `"repository"`: `{"type": "git", "url": "https://github.com/USER/claude-control.git"}` — placeholder USER
    - `"homepage"`: `"https://github.com/USER/claude-control#readme"` — placeholder USER
    - `"bugs"`: `{"url": "https://github.com/USER/claude-control/issues"}` — placeholder USER
    - `"author"`: leave empty string or omit (user fills in)
    - Add `"prepublishOnly": "npm run build && npm test"` to scripts — ensures build + test before publish

    Do NOT change existing fields (name, version, description, bin, type, scripts.build, dependencies, devDependencies, keywords, license).

    **Important:** The `"files"` field is critical — it whitelist what goes into the npm tarball. Without it, npm includes everything (source, tests, planning docs, dashboard source, etc.). With `"files": ["dist/"]`, only the built CLI + bundled dashboard ship.

    **.npmignore** — Create as a safety net alongside `"files"`. Exclude:
    ```
    src/
    dashboard/
    .planning/
    .claude/
    .github/
    *.test.ts
    tsup.config.ts
    vitest.config.ts
    tsconfig.json
    node_modules/
    ```

    This provides defense-in-depth: `"files"` whitelists what's included, `.npmignore` blacklists what's excluded.
  </action>
  <verify>
    Run `npm pack --dry-run` and verify output lists only dist/, LICENSE, README.md, and package.json.
    No source files, test files, planning docs, or dashboard source should appear.
  </verify>
  <done>package.json has files/engines/repository fields. .npmignore excludes source/dev files. npm pack produces clean tarball.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm pack --dry-run` shows only dist/, LICENSE, README.md, package.json
- [ ] README.md has all required sections (quickstart, CLI reference, dashboard, scopes)
- [ ] LICENSE contains MIT license text
- [ ] package.json has files, engines, repository fields
- [ ] `npm run build` still succeeds
- [ ] `npm test` still passes
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Package is ready for `npm publish` (after user sets repository URL and author)
- README provides clear path for new users to get started
</success_criteria>

<output>
After completion, create `.planning/phases/06-polish-launch/06-02-SUMMARY.md`
</output>
